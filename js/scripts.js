"use strict";$(document).ready((function(){var e=$(".features-content-container").offset().top,a=$(".features-content-container").outerHeight(),t=$(".special-heading"),s=!1;$(t).each((function(){for(var e,a=(e=$(this).html()).trim(),t="",s=0,n=(e=a.split("")).length;s<n;s++)t+='<span class="specialChar" data-char="'+s+'">'+e[s]+"</span>";$(this).html(t)})),$(window).scroll((function(){s=!0})),setInterval((function(){s&&(s=!1,$(this).scrollTop()>e+a-190&&($(".about-graphic-container").addClass("active"),$(".special-heading").addClass("active"),$(".specialChar").each((function(e){var a=$(this);setTimeout((function(){a.addClass("active")}),150*e)}))))}),150)}));var offsetArray=[],fContent=document.querySelectorAll("[data-js*=fContent");function featuresScroll(){if(scrolling){scrolling=!1;var e=($(document).scrollTop()-$(".features-container").offset().top+100)/1e3;fContent.forEach((function(e,a){e.offsetTop>offsetArray[a]&&e.classList.add("active")})),e<.2&&($("#slopeEffect").attr("slope",e),$("#slopeEffectTablet").attr("slope",e-.05),$("#slopeEffectMobile").attr("slope",e-.1))}}fContent.forEach((function(e){var a=e.offsetTop;offsetArray.push(a)})),setInterval(featuresScroll,20);var scrolling=!1,scrollTop=pageYOffset,header=document.querySelector("header"),nav=document.querySelector("nav"),navBar=document.getElementById("primary-navigation"),navButton=document.querySelector("#menu-toggle"),headerHeight=header.getBoundingClientRect();scrollTop>100||screen.width<450?(header.className="header-small",navBar.classList.remove("top")):(header.className="header",navBar.classList.add("top")),window.onscroll=function(){var e=pageYOffset;e>100||screen.width<450?(nav.style.top=headerHeight,header.className="header-small",navBar.classList.remove("top")):0===e&&screen.width>450&&(header.className="header",navBar.classList.add("top"),navButton.classList.remove("open"),navBar.classList.remove("open"))},$(document).ready((function(){var e=$(".foreground"),a=$("#van-skyline"),t=$(e).length,s=$(".background-shape"),n=!1;$(e).each((function(a){a<=t&&setTimeout((function(){$(e[a]).children().attr("filter","url(#dropshadow)"),$(e[a]).children().addClass("visible")}),250*a)})),$(window).scroll((function(){n=!0})),setInterval((function(){n&&(n=!1,$(document).scrollTop()>0?($(a).addClass("active"),$(s).addClass("active")):($(a).removeClass("active"),$(s).removeClass("active")))}),10)})),$(document).ready((function(){var e=$(".svgMask[data-svg]"),a=!1;$(window).scroll((function(){a=!0})),setInterval((function(){if(a){a=!1;var t=$(document).scrollTop(),s=[];$(".services-content").each((function(a){var n=$(this).offset().top;$(t/(n-200)*100).each((function(){s.push(this)})),n-300<t&&($(this).addClass("active"),$(e).css("transform","translateX(100%)")),$(this).hasClass("active")||$(e[a]).css("transform","translateX("+s[a]+"%)")}))}}),1)})),$(document).ready((function(){var e=$(".showcase-content-container").offset().top,a=$(".showcase-content-container"),t=$(".showcase-wrapper").length,s=1,n=0,o=!1;$($(".showcase-wrapper[data-row="+t+"]")).addClass("hidden"),$(".showcase-container").css("min-height",550*t+"px"),$("div[data-row]").each((function(){$(this).attr("data-row")%2==1&&0!=$(this).attr("data-row")&&$(this).addClass("odd")})),$(".showcase-wrapper").each((function(e){var t=$(this).data("row",e),s=$(a[e]).offset().top;t.offset({top:s}),n++})),$(window).scroll((function(){o=!0})),setInterval((function(){if(o){o=!1;var a=$(".showcase-wrapper[data-row="+s+"]"),t=a.offset().top;$(this).scrollTop()>e-100?$(".showcase-container").addClass("active"):$(".showcase-container").removeClass("active"),$(this).scrollTop()>t-100&&s!=n&&($(a).addClass("active"),s<n&&s++)}}),20)})),function(e){var a=e("#video-container"),t=a.find("video"),s=(a.find(".overlay"),a.find(".bar")),n=s.find(".buffer"),o=s.find(".progress"),r=t[0],c=t.find("[data-src]"),i=!0;0!=a.length&&(e("[data-player-close]").click((function(e){e.stopPropagation(),r.paused||r.pause(),a.removeClass("open")})),e("#video-play-btn").click((function(){c.length>0&&(a.addClass("open"),c.attr("src",c.attr("data-src"))),t.hasClass("ready")?(r.currentTime=0,r.play()):r.load()})),window.setInterval((function(){if(!r.paused&&r.duration>0&&o.width(r.currentTime/r.duration*100+"%"),4==r.readyState&&i&&!r.paused){var e=0,a=r.buffered,t=r.currentTime;a.start(e)<=t&&t<=a.end(e)||(e+=1);var s=a.end(e)/r.duration*100;n.width(s+"%"),100==s&&(i=!1)}}),50),t.on("seeking",(function(e){t.parent().addClass("seeking")})),t.on("seeked",(function(e){t.parent().removeClass("seeking")})),t.on("canplaythrough",(function(e){t.addClass("ready"),r.play()})),a.on("video, .overlay").click((function(e){t.hasClass("ready")&&(t.parent().toggleClass("paused",!r.paused),r[r.paused?"play":"pause"]())})),s.click((function(e){if(t.hasClass("ready")){e.preventDefault(),e.stopPropagation();var a=s.offset(),n=(e.pageX-a.left)/s.width()*100;r.paused||r.pause(),r.currentTime=n/100*r.duration,t.parent().removeClass("paused"),r.play()}})))}(jQuery);